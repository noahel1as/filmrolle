<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">

<!-- RESPONSIVE VIEWPORT -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>movie night generator ‚ô°</title>

<style>

body{
background:#0d0f14;
color:white;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
text-align:center;
padding:20px;
margin:0;
}

/* TITLE */

h1{
font-weight:normal;
margin-bottom:5px;
font-size:clamp(26px, 5vw, 36px);
}

.divider{
margin-bottom:30px;
opacity:0.7;
font-size:clamp(14px, 3vw, 18px);
}

/* MAIN BOX */

#mainBox{

margin:auto;

width:min(90vw, 420px);

height:min(25vw, 140px);

min-height:110px;

border-radius:18px;

background:#151922;

display:flex;

align-items:center;

justify-content:center;

}

/* START BUTTON */

#displayButton{

background:none;

border:none;

color:white;

font-size:clamp(22px, 6vw, 28px);

cursor:pointer;

padding:10px;

transition: transform 0.25s ease;

}

#displayButton:active{
transform:scale(0.95);
}

/* POP ANIMATION */

.pop{
animation: popAnim 0.3s ease;
}

@keyframes popAnim{

0%{
transform:scale(0.6);
opacity:0;
}

100%{
transform:scale(1);
opacity:1;
}

}

/* RESPIN */

#respinner{

display:none;

font-size:clamp(24px, 6vw, 30px);

cursor:pointer;

margin-top:20px;

}

/* BUTTONS */

button{

background:#16213e;

color:white;

border:none;

padding:14px 22px;

margin:8px;

border-radius:12px;

cursor:pointer;

font-size:16px;

}

button:active{
transform:scale(0.96);
}

input{

background:#151922;

border:none;

color:white;

padding:14px;

border-radius:12px;

width:min(85vw, 320px);

font-size:16px;

}

/* HAMBURGER */

#hamburger{

position:fixed;

top:18px;

right:18px;

font-size:28px;

cursor:pointer;

}

/* POPUPS */

.overlay{

position:fixed;

top:0;

left:0;

width:100%;

height:100%;

backdrop-filter: blur(8px);

display:none;

align-items:center;

justify-content:center;

padding:20px;

box-sizing:border-box;

}

.popup{

background:#151922;

padding:25px;

border-radius:18px;

position:relative;

width:min(90vw, 350px);

max-height:80vh;

overflow:auto;

}

.close{

position:absolute;

right:15px;

top:10px;

cursor:pointer;

font-size:22px;

}

/* DICE */

#dice{

width:90px;

height:90px;

background:#16213e;

display:flex;

align-items:center;

justify-content:center;

font-size:42px;

border-radius:12px;

margin:auto;

}

/* MOVIE LIST */

.movieItem{

padding:10px;

border-bottom:1px solid #333;

font-size:18px;

}

/* FIREWORK */

.star{

position:fixed;

left:50%;

top:50%;

font-size:22px;

pointer-events:none;

}

</style>
</head>
<body>

<div id="hamburger" onclick="openMovieList()">‚ò∞</div>

<h1>movie night generator ‚ô°</h1>

<div class="divider">
‚äπ‚ÇäÀö‚ÄßÔ∏µ‚Äø‚Çä‡≠®·∞î‡≠ß‚Çä‚ÄøÔ∏µ‚ÄßÀö‚Çä‚äπ
</div>

<div id="mainBox">
<button id="displayButton" onclick="spin()">STARTüçø</button>
</div>

<div id="respinner" onclick="spin()">‚Üª</div>

<br>

<input id="movieInput" placeholder="Film hinzuf√ºgen">

<br>

<button onclick="addMovie()">Film hinzuf√ºgen</button>

<button onclick="removeMovie()">Film entfernen</button>

<button onclick="openDice()">wer darf ziehen</button>


<!-- DICE POPUP -->

<div id="diceOverlay" class="overlay">

<div class="popup">

<div class="close" onclick="closeDice()">‚úï</div>

<div id="dice">‚öÑ</div>

<br>

<button onclick="rollDice()">w√ºrfeln</button>

<div id="diceResult"></div>

</div>

</div>


<!-- MOVIE LIST POPUP -->

<div id="listOverlay" class="overlay">

<div class="popup">

<div class="close" onclick="closeMovieList()">‚úï</div>

<h3>Gespeicherte Filme</h3>

<div id="movieList"></div>

</div>

</div>


<script>

/* FULL LIST */
let movies = JSON.parse(localStorage.getItem("movies")) || [];

/* AVAILABLE POOL */
let pool = JSON.parse(localStorage.getItem("pool")) || [...movies];

function save(){

localStorage.setItem("movies", JSON.stringify(movies));

localStorage.setItem("pool", JSON.stringify(pool));

}

/* SPIN */

function spin(){

if(pool.length === 0){

alert("Ihr habt alle Filme geschaut üçø");

document.getElementById("displayButton").innerText="Alle Filme gesehen ‚ú®";

return;

}

const randomIndex = Math.floor(Math.random()*pool.length);

const selected = pool[randomIndex];

/* remove from pool */
pool.splice(randomIndex,1);

save();

const button=document.getElementById("displayButton");

button.classList.remove("pop");

void button.offsetWidth;

button.innerText=selected;

button.classList.add("pop");

document.getElementById("respinner").style.display="block";

firework();

}

/* ADD */

function addMovie(){

const input=document.getElementById("movieInput");

if(input.value==="") return;

movies.push(input.value);

pool.push(input.value);

save();

input.value="";

}

/* REMOVE */

function removeMovie(){

const input=document.getElementById("movieInput");

const name=input.value;

movies=movies.filter(m=>m!==name);

pool=pool.filter(m=>m!==name);

save();

input.value="";

}

/* DICE */

function openDice(){
document.getElementById("diceOverlay").style.display="flex";
}

function closeDice(){
document.getElementById("diceOverlay").style.display="none";
}

function rollDice(){

const dice=document.getElementById("dice");

dice.classList.add("spin");

let interval=setInterval(()=>{
dice.innerText=Math.random()<0.5?"F":"N";
},100);

setTimeout(()=>{

clearInterval(interval);

dice.classList.remove("spin");

const result=Math.random()<0.5?"F":"N";

dice.innerText=result;

document.getElementById("diceResult").innerText=
result==="F"
?"Fabianne darf ziehen"
:"Noah darf ziehen";

},1500);

}

/* LIST */

function openMovieList(){

document.getElementById("listOverlay").style.display="flex";

renderMovieList();

}

function closeMovieList(){
document.getElementById("listOverlay").style.display="none";
}

function renderMovieList(){

const list=document.getElementById("movieList");

list.innerHTML="";

movies.forEach(movie=>{

const div=document.createElement("div");

div.className="movieItem";

div.innerText=movie;

list.appendChild(div);

});

}

/* FIREWORK */

function firework(){

for(let i=0;i<50;i++){

const star=document.createElement("div");

star.className="star";

star.innerText="‚≠ê";

document.body.appendChild(star);

const angle=Math.random()*2*Math.PI;

const distance=Math.random()*350;

const x=Math.cos(angle)*distance;

const y=Math.sin(angle)*distance;

star.animate([
{transform:"translate(0,0)", opacity:1},
{transform:`translate(${x}px,${y}px)`, opacity:0}
],
{duration:1000,easing:"ease-out"});

setTimeout(()=>star.remove(),1000);

}

}

</script>

</body>
</html>
