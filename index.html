<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>movie night generator ‚ô°</title>

<style>

body{
background:#0d0f14;
color:white;
font-family:Arial;
text-align:center;
padding:40px;
overflow:hidden;
}

h1{
font-weight:normal;
animation: zoomIn 1s ease;
}

@keyframes zoomIn{
0%{transform:scale(0.7); opacity:0;}
100%{transform:scale(1); opacity:1;}
}

.divider{
margin-bottom:40px;
opacity:0.7;
}

#mainBox{
margin:auto;
width:400px;
height:120px;
border-radius:15px;
background:#151922;
display:flex;
align-items:center;
justify-content:center;
font-size:22px;
position:relative;
overflow:hidden;
}

#reel{
position:absolute;
display:flex;
gap:20px;
transition: transform 2.5s cubic-bezier(.17,.67,.25,1);
}

button{
background:#16213e;
color:white;
border:none;
padding:10px 20px;
margin:10px;
border-radius:10px;
cursor:pointer;
}

button:hover{
background:#1f2a52;
}

input{
background:#151922;
border:none;
color:white;
padding:10px;
border-radius:10px;
}

#respinner{
display:none;
font-size:25px;
cursor:pointer;
margin-top:20px;
}

/* POPUP */

#popupOverlay{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
backdrop-filter: blur(5px);
display:none;
align-items:center;
justify-content:center;
}

#popup{
background:#151922;
padding:30px;
border-radius:15px;
position:relative;
}

#close{
position:absolute;
right:10px;
top:5px;
cursor:pointer;
}

#dice{
width:80px;
height:80px;
background:#16213e;
display:flex;
align-items:center;
justify-content:center;
font-size:40px;
border-radius:10px;
margin:auto;
}

.spin{
animation: spin 0.5s linear infinite;
}

@keyframes spin{
0%{transform:rotate(0deg)}
100%{transform:rotate(360deg)}
}

/* FIREWORK */

.star{
position:fixed;
left:50%;
top:50%;
font-size:20px;
pointer-events:none;
}

</style>
</head>
<body>

<h1>movie night generator ‚ô°</h1>

<div class="divider">
‚äπ‚ÇäÀö‚ÄßÔ∏µ‚Äø‚Çä‡≠®·∞î‡≠ß‚Çä‚ÄøÔ∏µ‚ÄßÀö‚Çä‚äπ
</div>

<div id="mainBox">

<div id="startButton" onclick="spin()">
STARTüçø
</div>

<div id="reel"></div>

</div>

<div id="respinner" onclick="spin()">‚Üª</div>

<br>

<input id="movieInput" placeholder="Film hinzuf√ºgen">

<br>

<button onclick="addMovie()">Film hinzuf√ºgen</button>

<button onclick="removeMovie()">Film entfernen</button>

<button onclick="openPopup()">wer darf ziehen</button>


<!-- POPUP -->

<div id="popupOverlay">

<div id="popup">

<div id="close" onclick="closePopup()">‚úï</div>

<div id="dice">6</div>

<br>

<button onclick="rollDice()">w√ºrfeln</button>

<div id="diceResult"></div>

</div>

</div>


<script>

let movies = JSON.parse(localStorage.getItem("movies")) || [];

const reel=document.getElementById("reel");

function save(){
localStorage.setItem("movies",JSON.stringify(movies));
}

function addMovie(){
const input=document.getElementById("movieInput");
if(input.value==="") return;
movies.push(input.value);
save();
input.value="";
}

function removeMovie(){
const input=document.getElementById("movieInput");
const index=movies.indexOf(input.value);
if(index>-1){
movies.splice(index,1);
save();
}
input.value="";
}

function createReel(){
reel.innerHTML="";
movies.forEach(movie=>{
const div=document.createElement("div");
div.innerText=movie;
div.style.minWidth="200px";
reel.appendChild(div);
});
}

function spin(){

if(movies.length===0){
alert("Keine Filme vorhanden");
return;
}

createReel();

const index=Math.floor(Math.random()*movies.length);
const offset=index*220;

reel.style.transform="translateX(-"+offset+"px)";

setTimeout(()=>{
document.getElementById("startButton").innerText=movies[index];
document.getElementById("respinner").style.display="block";
firework();
},2000);

}

/* POPUP */

function openPopup(){
document.getElementById("popupOverlay").style.display="flex";
}

function closePopup(){
document.getElementById("popupOverlay").style.display="none";
}

function rollDice(){

const dice=document.getElementById("dice");
const resultText=document.getElementById("diceResult");

dice.classList.add("spin");

let interval=setInterval(()=>{
dice.innerText=Math.random()<0.5?"F":"N";
},100);

setTimeout(()=>{

clearInterval(interval);

dice.classList.remove("spin");

const result=Math.random()<0.5?"F":"N";

dice.innerText=result;

resultText.innerText=
result==="F"
?"Fabianne darf ziehen"
:"Noah darf ziehen";

},1500);

}

/* FIREWORK */

function firework(){

for(let i=0;i<40;i++){

const star=document.createElement("div");

star.className="star";

star.innerText="‚≠ê";

document.body.appendChild(star);

const angle=Math.random()*2*Math.PI;
const distance=Math.random()*300;

const x=Math.cos(angle)*distance;
const y=Math.sin(angle)*distance;

star.animate([
{transform:"translate(0,0)", opacity:1},
{transform:`translate(${x}px,${y}px)`, opacity:0}
],{
duration:1000,
easing:"ease-out"
});

setTimeout(()=>star.remove(),1000);

}

}

</script>

</body>
</html>
