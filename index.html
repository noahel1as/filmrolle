<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>movie night generator ‚ô°</title>

<style>

body{
background:#0d0f14;
color:white;
font-family:Arial;
text-align:center;
padding:40px;
margin:0;
}

/* TITLE */

h1{
font-weight:normal;
margin-bottom:5px;
}

.divider{
margin-bottom:40px;
opacity:0.7;
}

/* MAIN BOX */

#mainBox{
margin:auto;
width:400px;
height:120px;
border-radius:15px;
background:#151922;
display:flex;
align-items:center;
justify-content:center;
font-size:22px;
}

/* START / RESULT BUTTON */

#displayButton{
background:none;
border:none;
color:white;
font-size:22px;
cursor:pointer;
transition: transform 0.25s ease, opacity 0.25s ease;
}

#displayButton:hover{
opacity:0.8;
}

/* POP ANIMATION */

.pop{
animation: popAnim 0.25s ease;
}

@keyframes popAnim{
0%{
transform:scale(0.7);
opacity:0;
}
100%{
transform:scale(1);
opacity:1;
}
}

/* RESPIN */

#respinner{
display:none;
font-size:25px;
cursor:pointer;
margin-top:15px;
}

/* BUTTONS */

button{
background:#16213e;
color:white;
border:none;
padding:10px 20px;
margin:10px;
border-radius:10px;
cursor:pointer;
}

button:hover{
background:#1f2a52;
}

input{
background:#151922;
border:none;
color:white;
padding:10px;
border-radius:10px;
}

/* HAMBURGER */

#hamburger{
position:fixed;
top:20px;
right:20px;
font-size:28px;
cursor:pointer;
}

/* POPUPS */

.overlay{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
backdrop-filter: blur(6px);
display:none;
align-items:center;
justify-content:center;
}

.popup{
background:#151922;
padding:30px;
border-radius:15px;
position:relative;
max-height:400px;
overflow:auto;
}

.close{
position:absolute;
right:15px;
top:10px;
cursor:pointer;
font-size:20px;
}

/* DICE */

#dice{
width:80px;
height:80px;
background:#16213e;
display:flex;
align-items:center;
justify-content:center;
font-size:40px;
border-radius:10px;
margin:auto;
}

.spin{
animation: spin 0.5s linear infinite;
}

@keyframes spin{
0%{transform:rotate(0deg)}
100%{transform:rotate(360deg)}
}

/* MOVIE LIST */

.movieItem{
padding:8px;
border-bottom:1px solid #333;
}

/* FIREWORK */

.star{
position:fixed;
left:50%;
top:50%;
font-size:20px;
pointer-events:none;
}

</style>
</head>
<body>

<!-- HAMBURGER -->
<div id="hamburger" onclick="openMovieList()">‚ò∞</div>

<h1>movie night generator ‚ô°</h1>

<div class="divider">
‚äπ‚ÇäÀö‚ÄßÔ∏µ‚Äø‚Çä‡≠®·∞î‡≠ß‚Çä‚ÄøÔ∏µ‚ÄßÀö‚Çä‚äπ
</div>

<!-- MAIN FILM BOX -->
<div id="mainBox">
<button id="displayButton" onclick="spin()">STARTüçø</button>
</div>

<div id="respinner" onclick="spin()">‚Üª</div>

<br>

<input id="movieInput" placeholder="Film hinzuf√ºgen">

<br>

<button onclick="addMovie()">Film hinzuf√ºgen</button>
<button onclick="removeMovie()">Film entfernen</button>
<button onclick="openDice()">wer darf ziehen</button>

<!-- DICE POPUP -->

<div id="diceOverlay" class="overlay">

<div class="popup">

<div class="close" onclick="closeDice()">‚úï</div>

<div id="dice">‚öÑ</div>

<br>

<button onclick="rollDice()">w√ºrfeln</button>

<div id="diceResult"></div>

</div>

</div>

<!-- MOVIE LIST POPUP -->

<div id="listOverlay" class="overlay">

<div class="popup">

<div class="close" onclick="closeMovieList()">‚úï</div>

<h3>Gespeicherte Filme</h3>

<div id="movieList"></div>

</div>

</div>

<script>

let movies = JSON.parse(localStorage.getItem("movies")) || [];

function save(){
localStorage.setItem("movies",JSON.stringify(movies));
}

/* SPIN FILM */

function spin(){

if(movies.length===0){
alert("Keine Filme vorhanden");
return;
}

const randomIndex=Math.floor(Math.random()*movies.length);

const button=document.getElementById("displayButton");

button.classList.remove("pop");

void button.offsetWidth;

button.innerText=movies[randomIndex];

button.classList.add("pop");

document.getElementById("respinner").style.display="block";

firework();

}

/* ADD MOVIE */

function addMovie(){

const input=document.getElementById("movieInput");

if(input.value==="") return;

movies.push(input.value);

save();

input.value="";

}

/* REMOVE MOVIE */

function removeMovie(){

const input=document.getElementById("movieInput");

const index=movies.indexOf(input.value);

if(index>-1){

movies.splice(index,1);

save();

}

input.value="";

}

/* DICE */

function openDice(){
document.getElementById("diceOverlay").style.display="flex";
}

function closeDice(){
document.getElementById("diceOverlay").style.display="none";
}

function rollDice(){

const dice=document.getElementById("dice");

dice.classList.add("spin");

let interval=setInterval(()=>{
dice.innerText=Math.random()<0.5?"F":"N";
},100);

setTimeout(()=>{

clearInterval(interval);

dice.classList.remove("spin");

const result=Math.random()<0.5?"F":"N";

dice.innerText=result;

document.getElementById("diceResult").innerText=
result==="F"
?"Fabianne darf ziehen"
:"Noah darf ziehen";

},1500);

}

/* MOVIE LIST */

function openMovieList(){

document.getElementById("listOverlay").style.display="flex";

renderMovieList();

}

function closeMovieList(){

document.getElementById("listOverlay").style.display="none";

}

function renderMovieList(){

const list=document.getElementById("movieList");

list.innerHTML="";

movies.forEach(movie=>{

const div=document.createElement("div");

div.className="movieItem";

div.innerText=movie;

list.appendChild(div);

});

}

/* FIREWORK */

function firework(){

for(let i=0;i<40;i++){

const star=document.createElement("div");

star.className="star";

star.innerText="‚≠ê";

document.body.appendChild(star);

const angle=Math.random()*2*Math.PI;
const distance=Math.random()*300;

const x=Math.cos(angle)*distance;
const y=Math.sin(angle)*distance;

star.animate([
{transform:"translate(0,0)", opacity:1},
{transform:`translate(${x}px,${y}px)`, opacity:0}
],{
duration:1000,
easing:"ease-out"
});

setTimeout(()=>star.remove(),1000);

}

}

</script>

</body>
</html>
